-- INSERT PRODUCTS (Insecticides, Fungicides, Herbicides, PGRs from Excel)
-- Each product links to ALL problems it can treat

-- INSECTICIDES
INSERT INTO products (id, name, crop_id, problem_id, dosage_recommendation, dosage_min, dosage_max, dosage_unit, pack_sizes, product_type) VALUES
('33333333-0001-0001-0001-000000000001', 'King Star', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000001', '20-40 gms/acre', 20, 40, 'gm', ARRAY['100gm','250gm','500gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000002', 'Kanfidan', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000002', '40-50 ml/acre', 40, 50, 'ml', ARRAY['100ml','250ml','500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000003', 'Kanfidan Plus', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000001', '12-14 gms/acre', 12, 14, 'gm', ARRAY['50gm','100gm','250gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000004', 'Niwesh', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000025', '1.2-4 ml/kg seed', 1.2, 4, 'ml', ARRAY['100ml','250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000005', 'Shanthoxam', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000026', '40 gms/acre', 40, 40, 'gm', ARRAY['100gm','250gm','500gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000006', 'Ryz', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000023', '120 gms/acre', 120, 120, 'gm', ARRAY['250gm','500gm','1kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000007', 'Dominator', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000023', '60-80 gms/acre', 60, 80, 'gm', ARRAY['100gm','250gm','500gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000008', 'Dominator Ultra', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000023', '133.2 gms/acre', 133, 133, 'gm', ARRAY['250gm','500gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000009', 'Megasus', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000003', '240 gms/acre', 240, 240, 'gm', ARRAY['250gm','500gm','1kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000010', 'Uniisus', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000004', '250 ml/acre', 250, 250, 'ml', ARRAY['250ml','500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000011', 'Tall Stroke Plus', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000003', '240 ml/acre', 240, 240, 'ml', ARRAY['250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000012', 'Neozen', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000003', '400-500 ml/acre', 400, 500, 'ml', ARRAY['500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000013', 'Acestar Gold', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '400 gms/acre', 400, 400, 'gm', ARRAY['250gm','500gm','1kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000014', 'Paramount', '11111111-0001-0001-0001-000000000007', '22222222-0001-0001-0001-000000000048', '175-200 gms/acre', 175, 200, 'gm', ARRAY['250gm','500gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000015', 'Krushmite', '11111111-0001-0001-0001-000000000022', '22222222-0001-0001-0001-000000000085', '240-480 ml/acre', 240, 480, 'ml', ARRAY['250ml','500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000016', 'Polidar 4G', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000027', '7.5-10 Kg/acre', 7500, 10000, 'gm', ARRAY['5kg','10kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000017', 'Centra', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '200 ml/acre', 200, 200, 'ml', ARRAY['100ml','250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000018', 'Khlocyp', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '400 ml/acre', 400, 400, 'ml', ARRAY['250ml','500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000019', 'Novalate', '11111111-0001-0001-0001-000000000004', '22222222-0001-0001-0001-000000000044', '350 ml/acre', 350, 350, 'ml', ARRAY['250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000020', 'Tepronil GR', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000026', '6-10 Kg/acre', 6000, 10000, 'gm', ARRAY['5kg','10kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000021', 'Tepronil Ultra', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000026', '4 Kg/acre', 4000, 4000, 'gm', ARRAY['5kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000022', 'Emamectin', '11111111-0001-0001-0001-000000000021', '22222222-0001-0001-0001-000000000083', '80 gms/acre', 80, 80, 'gm', ARRAY['50gm','100gm','250gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000023', 'Polidar SP', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000027', '400 gms/acre', 400, 400, 'gm', ARRAY['250gm','500gm','1kg'], 'insecticide'),
('33333333-0001-0001-0001-000000000024', 'Tefex Super', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '400-600 ml/acre', 400, 600, 'ml', ARRAY['500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000025', 'Kicker Plus', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '120-200 ml/acre', 120, 200, 'ml', ARRAY['100ml','250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000026', 'Lumia Plus', '11111111-0001-0001-0001-000000000021', '22222222-0001-0001-0001-000000000083', '80 ml/acre', 80, 80, 'ml', ARRAY['100ml','250ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000027', 'Lumia', '11111111-0001-0001-0001-000000000010', '22222222-0001-0001-0001-000000000060', '200 ml/acre', 200, 200, 'ml', ARRAY['100ml','250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000028', 'Accentum', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '80 ml/acre', 80, 80, 'ml', ARRAY['100ml','250ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000029', 'Telluride', '11111111-0001-0001-0001-000000000004', '22222222-0001-0001-0001-000000000044', '400 ml/acre', 400, 400, 'ml', ARRAY['250ml','500ml','1L'], 'insecticide'),
('33333333-0001-0001-0001-000000000030', 'Khlocyp Complete', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000006', '400 ml/acre', 400, 400, 'ml', ARRAY['250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000031', 'Telluride Ultra', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000023', '250-300 ml/acre', 250, 300, 'ml', ARRAY['250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000032', 'Bhadra Gold', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000005', '232 ml/acre', 232, 232, 'ml', ARRAY['250ml','500ml'], 'insecticide'),
('33333333-0001-0001-0001-000000000033', 'Mammath', '11111111-0001-0001-0001-000000000002', '22222222-0001-0001-0001-000000000016', '24 gms/acre', 24, 24, 'gm', ARRAY['50gm','100gm'], 'insecticide'),
('33333333-0001-0001-0001-000000000034', 'Tepronil Plus', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000032', '400 ml/acre', 400, 400, 'ml', ARRAY['250ml','500ml'], 'insecticide'),

-- FUNGICIDES
('33333333-0001-0001-0001-000000000035', 'Helenaa', '11111111-0001-0001-0001-000000000015', '22222222-0001-0001-0001-000000000147', '240 gms/kg seed', 240, 240, 'gm', ARRAY['250gm','500gm'], 'fungicide'),
('33333333-0001-0001-0001-000000000036', 'Zebexyl', '11111111-0001-0001-0001-000000000009', '22222222-0001-0001-0001-000000000057', '1000 gms/acre', 1000, 1000, 'gm', ARRAY['500gm','1kg'], 'fungicide'),
('33333333-0001-0001-0001-000000000037', 'Accute', '11111111-0001-0001-0001-000000000002', '22222222-0001-0001-0001-000000000018', '100 gms/acre', 100, 100, 'gm', ARRAY['100gm','250gm'], 'fungicide'),
('33333333-0001-0001-0001-000000000038', 'Avventus', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000033', '40 ml/acre', 40, 40, 'ml', ARRAY['50ml','100ml','250ml'], 'fungicide'),
('33333333-0001-0001-0001-000000000039', 'Tessa', '11111111-0001-0001-0001-000000000002', '22222222-0001-0001-0001-000000000018', '500 gms/acre', 500, 500, 'gm', ARRAY['500gm','1kg'], 'fungicide'),
('33333333-0001-0001-0001-000000000040', 'Kornia', '11111111-0001-0001-0001-000000000033', '22222222-0001-0001-0001-000000000154', '300 ml/acre', 300, 300, 'ml', ARRAY['250ml','500ml'], 'fungicide'),
('33333333-0001-0001-0001-000000000041', 'Kavacham', '11111111-0001-0001-0001-000000000011', '22222222-0001-0001-0001-000000000073', '1 gm/kg seed', 1, 1, 'gm', ARRAY['100gm','250gm'], 'fungicide'),
('33333333-0001-0001-0001-000000000042', 'Kavacham Ultra', '11111111-0001-0001-0001-000000000009', '22222222-0001-0001-0001-000000000057', '600-800 gms/acre', 600, 800, 'gm', ARRAY['500gm','1kg'], 'fungicide'),
('33333333-0001-0001-0001-000000000043', 'Shansulf', '11111111-0001-0001-0001-000000000009', '22222222-0001-0001-0001-000000000058', '750-1000 gms/acre', 750, 1000, 'gm', ARRAY['500gm','1kg'], 'fungicide'),
('33333333-0001-0001-0001-000000000044', 'Kantrol Plus', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000033', '80ml/40L water', 80, 80, 'ml', ARRAY['100ml','250ml'], 'fungicide'),
('33333333-0001-0001-0001-000000000045', 'Kornia Complete', '11111111-0001-0001-0001-000000000014', '22222222-0001-0001-0001-000000000150', '3ml/L water', 3, 3, 'ml', ARRAY['100ml','250ml','500ml'], 'fungicide'),
('33333333-0001-0001-0001-000000000046', 'Qute', '11111111-0001-0001-0001-000000000009', '22222222-0001-0001-0001-000000000057', '1000 gms/acre', 1000, 1000, 'gm', ARRAY['500gm','1kg'], 'fungicide'),
('33333333-0001-0001-0001-000000000047', 'Extra Qute', '11111111-0001-0001-0001-000000000033', '22222222-0001-0001-0001-000000000156', '700 gms/acre', 700, 700, 'gm', ARRAY['500gm','1kg'], 'fungicide'),

-- HERBICIDES
('33333333-0001-0001-0001-000000000048', 'Designate', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000170', '800-900 ml/acre', 800, 900, 'ml', ARRAY['500ml','1L'], 'herbicide'),
('33333333-0001-0001-0001-000000000049', 'Thrive', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000172', '40-60 gms/acre', 40, 60, 'gm', ARRAY['50gm','100gm'], 'herbicide'),
('33333333-0001-0001-0001-000000000050', 'Weed Cure Gold', '11111111-0001-0001-0001-000000000006', '22222222-0001-0001-0001-000000000170', '200-250 ml/acre', 200, 250, 'ml', ARRAY['250ml','500ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000051', 'Shanmix', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000172', '20 gms/acre', 20, 20, 'gm', ARRAY['50gm','100gm'], 'herbicide'),
('33333333-0001-0001-0001-000000000052', 'Tendulum Extra', '11111111-0001-0001-0001-000000000017', '22222222-0001-0001-0001-000000000173', '1000-1200 ml/acre', 1000, 1200, 'ml', ARRAY['1L'], 'herbicide'),
('33333333-0001-0001-0001-000000000053', 'Landmine', '11111111-0001-0001-0001-000000000007', '22222222-0001-0001-0001-000000000176', '1400 ml/acre', 1400, 1400, 'ml', ARRAY['1L','2L'], 'herbicide'),
('33333333-0001-0001-0001-000000000054', 'Aarka', '11111111-0001-0001-0001-000000000017', '22222222-0001-0001-0001-000000000173', '400 ml/acre', 400, 400, 'ml', ARRAY['500ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000055', 'Typhoon', '11111111-0001-0001-0001-000000000016', '22222222-0001-0001-0001-000000000118', '160 gms/acre', 160, 160, 'gm', ARRAY['100gm','250gm'], 'herbicide'),
('33333333-0001-0001-0001-000000000056', 'Taizen', '11111111-0001-0001-0001-000000000018', '22222222-0001-0001-0001-000000000178', '115 ml/acre', 115, 115, 'ml', ARRAY['100ml','250ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000057', 'Tendulum Plus', '11111111-0001-0001-0001-000000000002', '22222222-0001-0001-0001-000000000183', '600-700 ml/acre', 600, 700, 'ml', ARRAY['500ml','1L'], 'herbicide'),
('33333333-0001-0001-0001-000000000058', 'Excite', '11111111-0001-0001-0001-000000000007', '22222222-0001-0001-0001-000000000176', '600-1200 gms/acre', 600, 1200, 'gm', ARRAY['500gm','1kg'], 'herbicide'),
('33333333-0001-0001-0001-000000000059', 'Weed Bllaze', '11111111-0001-0001-0001-000000000015', '22222222-0001-0001-0001-000000000186', '1200 ml/acre', 1200, 1200, 'ml', ARRAY['1L','2L'], 'herbicide'),
('33333333-0001-0001-0001-000000000060', 'Bromett Plus', '11111111-0001-0001-0001-000000000016', '22222222-0001-0001-0001-000000000175', '20 gm/acre', 20, 20, 'gm', ARRAY['50gm','100gm'], 'herbicide'),
('33333333-0001-0001-0001-000000000061', 'Gassmarr Plus', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000179', '1000-1200 ml/acre', 1000, 1200, 'ml', ARRAY['1L'], 'herbicide'),
('33333333-0001-0001-0001-000000000062', 'Shantrazin', '11111111-0001-0001-0001-000000000018', '22222222-0001-0001-0001-000000000178', '400-800 gms/acre', 400, 800, 'gm', ARRAY['500gm','1kg'], 'herbicide'),
('33333333-0001-0001-0001-000000000063', 'Astoria', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000170', '325-350 ml/acre', 325, 350, 'ml', ARRAY['500ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000064', 'Astoria Super', '11111111-0001-0001-0001-000000000005', '22222222-0001-0001-0001-000000000170', '250 ml/acre', 250, 250, 'ml', ARRAY['250ml','500ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000065', 'Pyrox', '11111111-0001-0001-0001-000000000016', '22222222-0001-0001-0001-000000000118', '60 gms/acre', 60, 60, 'gm', ARRAY['50gm','100gm'], 'herbicide'),
('33333333-0001-0001-0001-000000000066', 'Elevate', '11111111-0001-0001-0001-000000000017', '22222222-0001-0001-0001-000000000173', '40 gms/acre', 40, 40, 'gm', ARRAY['50gm','100gm'], 'herbicide'),
('33333333-0001-0001-0001-000000000067', 'Velar', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000180', '250-300 ml/acre', 250, 300, 'ml', ARRAY['250ml','500ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000068', 'Nocel', '11111111-0001-0001-0001-000000000017', '22222222-0001-0001-0001-000000000173', '400 ml/acre', 400, 400, 'ml', ARRAY['500ml'], 'herbicide'),
('33333333-0001-0001-0001-000000000069', 'Shantrazine Super', '11111111-0001-0001-0001-000000000007', '22222222-0001-0001-0001-000000000176', '1000 gms/acre', 1000, 1000, 'gm', ARRAY['1kg'], 'herbicide'),

-- PGRs
('33333333-0001-0001-0001-000000000070', 'Protonn', '11111111-0001-0001-0001-000000000001', '22222222-0001-0001-0001-000000000187', '75 ml/acre', 75, 75, 'ml', ARRAY['100ml','250ml'], 'pgr'),
('33333333-0001-0001-0001-000000000071', 'Laser', '11111111-0001-0001-0001-000000000043', '22222222-0001-0001-0001-000000000187', '30-80 ml/acre', 30, 80, 'ml', ARRAY['50ml','100ml','250ml'], 'pgr');

-- Create product_problems mappings for multi-crop products
INSERT INTO product_problems (product_id, problem_id, dosage_for_problem) 
SELECT '33333333-0001-0001-0001-000000000001', id, '20-40 gms/acre' FROM problems WHERE title_en IN ('Jassids', 'Aphids', 'Whitefly', 'Thrips');

INSERT INTO product_problems (product_id, problem_id, dosage_for_problem)
SELECT '33333333-0001-0001-0001-000000000002', id, '40-100 ml/acre' FROM problems WHERE title_en IN ('Aphids', 'Jassids', 'Thrips', 'Whitefly', 'Brown Plant Hopper', 'Hopper', 'Flea Beetle', 'Leaf Miner', 'Termite');

INSERT INTO product_problems (product_id, problem_id, dosage_for_problem)
SELECT '33333333-0001-0001-0001-000000000005', id, '40 gms/acre' FROM problems WHERE title_en IN ('Stem Borer', 'Gall Midge', 'Leaf Folder', 'Brown Plant Hopper', 'White Backed Plant Hopper', 'Green Leaf Hopper', 'Thrips', 'Jassids', 'Aphids', 'Whitefly', 'Hopper');

INSERT INTO product_problems (product_id, problem_id, dosage_for_problem)
SELECT '33333333-0001-0001-0001-000000000009', id, '240 gms/acre' FROM problems WHERE title_en IN ('Whitefly', 'Aphids', 'Thrips', 'Jassids', 'Diamond Back Moth', 'Capsule Borer', 'Red Spider Mite', 'Mites');

INSERT INTO product_problems (product_id, problem_id, dosage_for_problem)
SELECT '33333333-0001-0001-0001-000000000022', id, '80 gms/acre' FROM problems WHERE title_en IN ('Fruit Borer', 'Shoot Borer', 'Shoot and Fruit Borer', 'Bollworms', 'Diamond Back Moth', 'Pod Borer', 'Thrips', 'Mites', 'Tea Looper');

-- Create crop_problems mappings
INSERT INTO crop_problems (crop_id, problem_id) SELECT DISTINCT crop_id, id FROM problems;

-- Create final indexes
CREATE INDEX IF NOT EXISTS idx_product_problems_product ON product_problems(product_id);
CREATE INDEX IF NOT EXISTS idx_product_problems_problem ON product_problems(problem_id);
CREATE INDEX IF NOT EXISTS idx_crop_problems_crop ON crop_problems(crop_id);
CREATE INDEX IF NOT EXISTS idx_crop_problems_problem ON crop_problems(problem_id);